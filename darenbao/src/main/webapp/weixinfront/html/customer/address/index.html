<!DOCTYPE html>
<html>
<meta charset="utf-8"/>
<meta charset="utf-8"/>
<meta name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.5,maximum-scale=1.0 , user-scalable=0">
<base href="../../../"/>
<link rel="stylesheet" href="css/common/jquery.mobile-1.4.5.min.css"/>
<link rel="stylesheet" href="css/style-final.css"/>
<link rel="stylesheet" href="css/customer/address/index.css"/>
</head>
<body>
<div data-role="page"  data-quicklinks="true">
    <section data-role="header" data-theme="b" class="my-header" id="my-header">
        <a href="javascript:history.back();" data-role="none" class="my-header-back-btn"></a>
        <h2>收货地址</h2>
        <a href="#" class="my-header-right-btn-ad" data-role="none"><span>.</span><span>.</span><span>.</span></a>
    </section>
    <section data-role="content" class="address-main" id="address-main">
        <ul id="address_list">
        </ul>
        </section>
    <section  data-role="footer"  data-disable-page-zoom="false" data-position="fixed" style="background-color: #ffffff;padding: 10px">
        <button  data-role="none"  class="ok-order-btn-r" onclick="customer.address.toAddAddress()">新增收货地址</button>
    </section>
</div>
</body>
<script src="js/common/jquery.min.js"></script>
<script src="js/common/jquery.tmpl.min.js"></script>
<script src="js/common/jquery.mobile-1.4.5.min.js"></script>
<script src="js/common/common.js"></script>
<script src="js/customer/address/address.js"></script>
<script>
    Util.common.setWxTitle('收货地址');
    $(document).bind('mobileinit', function () {
        $.mobile.changePage.defaults.changeHash = false;
        $.mobile.hashListeningEnabled = false;
        $.mobile.pushStateEnabled = false;
    });
    $(function() {
        //初始化加载元素
        customer.address.init();
    });
</script>

</html>
<style>
    #address_list li{
        padding: 0;
    }
    #address_list div dl{
        border: none;
    }
    .pay-type-text{
        width: 60%;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
    }
</style>
<!--以下是模板文件-->
<script type="text/x-jquery-tmpl" id="address_list_t">
    <li  >
        <div onclick="customer.address.setDefaultAddressBack(this,'${id}')">
        <dl>
        	<dd ><span>收货人：${receiptName}</span></dd>
	        <dd class="text-right right-dd-a">
	            <span> ${mobile}</span>
	        </dd>
	        </dl>
	        <dl>
	        <dd>收货地址：</dd>
	        <dd class="pay-type-text">${provinceName}${cityName}${areaName}${detailAddr}</dd>
	        </dl>
        </div>
        <dl>
            <dd >
                <input type="radio" {{if status==1}}checked="true"{{/if}} class="ext-box-select" id="filter-jrtj${id}"
                    name="addressRadio" data-role="none" onclick="customer.address.setDefaultAddress(this,'${id}')">
                <label for="filter-jrtj${id}">选择该地址</label>
            </dd>
            <dd class="text-right right-dd-a">
                <a href="#" class="del-order-btn edit-btn" data-role="none" onclick="customer.address.delAddress('${id}')">删除</a>
               <a onclick="javascript:location.replace('html/customer/address/edit.html?type=edit&id=${id}');event.returnValue=false;" target="_top" class="ok-order-btn edit-btn" data-role="none">编辑</a>
            </dd>
        </dl>
    </li>
</script>
